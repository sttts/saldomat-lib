Vorgehen zum Update von Aqbanking und Gwen
==========================================

0. Ins aqbanking-Verzeichnis gehen

     cd lib

   Pr�fen, dass der lib-branch richtig ist:

     git branch
     git checkout richtiger-branch

1. /sw umbenennen!!! /sw/lib wird sonst benutzt und die Binaries sind unbrauchbar.
  Muss nur waehrend des Bauens sein. Nachher kann es wieder hergestellt werden.

     sudo mv /sw /sw.old

2.0 Pr�fen, dass der Branch von gwen richtig ist.

    git branch
    git checkout richtiger-branch

2.1 Gwen auf den aktuellen Stand bringen

     ssh limoia.com
     cd /home/git/gwenhywfar
     
     Immer als sschimanski
     (Sonst: 	git checkout -f master^ (commit vor master)
				git checkout -f master
				git clean -f
				=> alles wieder sauber wie im master)
	
     su
     su sschimanski
     git svn rebase
     exit

     cd gwenhywfar
     git pull --all
     git rebase neue-zielversions-commit
     git push --all -f

   Evtl. die anderen Branches nachziehen

     git branch -D anderer-branch
     git checkout -b anderer-branch
     git push --all -f
 
   Superprojekt anpassen:
   
   	 git checkout richtiger-branch
     cd ..
     git add gwenhywfar
     git commit
     	Message: * code 4.2.x

   Evtl. die anderen Branches nachziehen
   
     git branch -D anderer-branch
     git checkout -b anderer-branch
     

2.2 Aqbanking analog

3.0 make distclean

3.1 Im aqbanking/Makefile die Versionsnummern oben anpassen

     AqVer=4.2.x
     GwenVer=3.11.x

4. Bauen:

     make

5.1 Alles committen
	
	git commit
		Message: * make 4.2.x

/* Links werden durch make angelegt... einfach alles committen
5.x Die Verzeichnisse static-...-4.2.x committen
	
	Die alten entfernen
	
	 git rm static-build-alteVersion
	
	Die neuen aufnehmen
	
     git add static-build-*-4.2.x
     git commit
		Message: * binaries 4.2.x

5.x Links static-build-* setzen auf neue Version

     ln -sf static-build-debug-4.2.x static-build-debug 
     ln -sf static-build-i386-4.2.x static-build-i386 
     ln -sf static-build-ppc-4.2.x static-build-ppc

5.x Links committen

     git add static-build-debug static-build-i386 static-build-ppc
     git commit
	Message: * links 4.2.x

5.x Alles andere committen (tmp-* etc.)
     
     git add tmp-*
     � (m�ssen wir genauer dokumentieren)
     git commit
	Message: * make 4.2.x	
*/

5.2 andere Branches (1.5 etc.) anpassen

     git branch -D anderer-branch
     git checkout -b anderer-branch

5.3 Alles hochladen

     git push --all -f

5.4 Superprojekt hbci anpassen

     cd ..
     git add lib
     git commit

6. /sw wieder herstellen

     sudo mv /sw.old /sw


aqhbci-tool4 ausfuehren
=======================

1. cd static-.../lib
2. find . -name "*.so" -and \( -not -path "**/*.dSYM/**" \) | while read f; do rm `dirname $f`/`basename $f .so`.dylib; ln -s `basename $f` `dirname $f`/`basename $f .so`.dylib; done
3. cd ../bin
4. ln -s ../lib lib
5. ln -s ../share share
6. sudo mkdir /var/`whoami`
7. chown `whoami` /var/`whoami`
6. ./aqhbci-tool4

./aqhbci-tool4 adduser -N 100944715 -u 100944715 -b 50850150 -t pintan -n pin -s 'https://hbci-pintan-he.s-hbci.de/PinTanServlet'
./aqbanking-cli request -b 50850150 -a 100944715 --transactions
